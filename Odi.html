<!DOCTYPE html>
<html lang="it">
<head>
    <script src="testo_odi.js"></script>
    <meta charset="UTF-8">
    <title>Orazio - Ode I, 1 in Quartine (Spazio Bianco)</title>
    <style>
        body {
            font-family: 'Georgia', serif;
            display: flex;
            gap: 40px;
            padding: 40px;
            background-color: #fdfaf6;
            color: #333;
        }
        #text-container {
            flex: 1;
            background: white;
            padding: 40px;
            border-left: 5px solid #2c3e50;
            box-shadow: 10px 10px 30px rgba(0,0,0,0.05);
            line-height: 1.8;
            font-size: 1.1rem;
        }
        #info-box {
            width: 380px;
            height: 300px;
            position: sticky;
            top: 40px;
            padding: 25px;
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .word {
            cursor: pointer;
            padding: 0 2px;
            transition: all 0.2s;
            display: inline-block;
        }
        .word:hover {
            color: #e67e22;
            background: #fef5e7;
            transform: scale(1.05);
        }
        .verse-line {
            display: block;
        }
        /* Spazio vuoto tra le strofe senza riga visibile */
        .strophe-container {
            margin-bottom: 1.8em; 
        }
        h2 { color: #2c3e50; margin-top: 0; font-variant: small-caps; }
        .label { font-size: 0.75rem; text-transform: uppercase; color: #bdc3c7; margin-bottom: 15px; letter-spacing: 1px; }
        #display-content { font-size: 1.1rem; line-height: 1.4; }
    </style>
</head>
<body>

<div id="text-container">
    <h2></h2>
    <div id="ode-content" style="margin-top: 20px;"></div>
</div>

<div id="info-box">
    <div class="label">Analisi e Traduzione</div>
    <div id="display-content">Passa il mouse su una parola per l'analisi.</div>
</div>
<div id="nav-container" style="width: 380px; margin-top: 20px;">
    <div class="label" style="color: #2c3e50;">Navigazione Odi</div>
    <select id="ode-selector" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #2c3e50; background: white; font-family: 'Georgia', serif; font-size: 1rem; cursor: pointer;">
        <option value="" disabled selected>Scegli un'Ode...</option>
        <script>
            const selector = document.currentScript.parentElement;
            for (let i = 1; i <= 20; i++) {
                const opt = document.createElement('option');
                opt.value = i;
                opt.innerHTML = `Ode ${i}`;
                selector.appendChild(opt);
            }
        </script>
    </select>
</div>

<script>
    const odeSelector = document.getElementById('ode-selector');

    // Funzione che scatta al cambio della selezione
    odeSelector.addEventListener('change', function() {
        const numeroOde = Number(this.value); // Prende il numero (1, 2, 3...)
        
        console.log("Hai selezionato l'Ode numero: " + numeroOde);

        // 1. Pulisci il display dell'analisi per evitare confusione
document.getElementById('display-content').innerHTML = "Clicca su una parola della nuova Ode...";
const divSinistra = document.getElementById("ode-content" ); // Dove appare il testo di Orazio
divSinistra.innerHTML =""
switch(numeroOde) {
  case 1:
    visualizza(Ode1)
    break;
  case 6:
    // code block
    visualizza(Ode6)
    break;
  default:
    // code block
}
const titolo = document.querySelector('#text-container h2');
titolo.textContent = "Carmina " + numeroOde;
         
    });




//const OdeInQuartine = Ode6
//visualizza(OdeInQuartine)

function visualizza(ode) {



const OdeInQuartine = ode

const content = document.getElementById('ode-content');
const display = document.getElementById('display-content');

OdeInQuartine.forEach(strofa => {
    const stropheDiv = document.createElement('div');
    stropheDiv.className = 'strophe-container';

    strofa.forEach(verso => {
        const riga = document.createElement('div');
        riga.className = 'verse-line';

        verso.forEach(parolaCompleta => {
            const parti = parolaCompleta.split(':');
            const latina = parti[0];
            const info = parti[1];

            const span = document.createElement('span');
            span.className = 'word';
            span.textContent = latina + " ";
            
            span.onmouseover = () => {
                display.innerHTML = `<strong style="color:#e67e22; font-size:1.5rem">${latina.replace(/[,;.]/g, "")}</strong><br><br>${info}`;
            };
            
            riga.appendChild(span);
        });
        stropheDiv.appendChild(riga);
    });

    content.appendChild(stropheDiv);
});

}
</script>

</body>
</html>